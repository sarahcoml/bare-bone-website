.navbar {
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: 4rem;
  display: flex;
  align-items: center;
  justify-content: center; /* center content; toggle is absolutely positioned */
  background: #232325;
  color: #fff;
  padding: 0 clamp(0.75rem, 3.5vw, 1.2rem);
  z-index: 50;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  box-sizing: border-box;
}

/* keep the centered container but don't position it to avoid making the toggle relative to it */
.navbarContainer {
  max-width: var(--container-width, 1200px);
  margin: 0 auto;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 0.5rem;
  box-sizing: border-box;
  position: static; /* important: allow toggle to be positioned relative to .navbar */
}

.logo {
  display: flex;
  align-items: center;
  min-width: auto; /* allow shrinking on mobile */
  font-family: 'Brush Script MT', cursive, sans-serif;
  font-size: 2rem;
  font-weight: bold;
  letter-spacing: 1px;
}

.logo img {
  height: 28px;
  display: block;
}

.navLinks {
  list-style: none;
  display: flex;
  gap: 1rem;
  margin: 0;
  padding: 0;
  align-items: center;
}

.navLink {
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  letter-spacing: 0.02em;
  transition: transform 180ms ease, box-shadow 180ms ease;
}

.navLink:hover {
  color: #fff;
}

.bookBtn {
  /* smaller, no underline */
  display: inline-block;
  padding: 0.32rem 0.7rem;
  font-size: 0.95rem;
  line-height: 1;
  border-radius: 8px;
  text-decoration: none;
  white-space: nowrap;
  cursor: pointer;

  /* keep the yellow look (uses your variable if available) */
  background: var(--wym-yellow, #f6f38e);
  color: #0b1020;
  font-weight: 700;
  border: none;
  box-shadow: 0 6px 18px rgba(4,18,60,0.12);
  transition: transform .12s ease, box-shadow .12s ease;
}

.bookBtn:hover,
.bookBtn:focus {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(4,18,60,0.16);
  text-decoration: none;
  outline: none;
}

/* Refined button style for the hero section */
.heroBtn {
  background: #fef08a;      /* filled yellow background */
  color: #232325;           /* black text */
  font-size: 1.1rem;
  font-weight: bold;
  padding: 0.7rem 2.2rem;   /* larger for hero prominence */
  border: none;
  border-radius: 0.3rem;
  text-transform: uppercase;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.10);
  outline: none;
  margin-right: 1rem;
}

.heroBtn:hover {
  background: #ffe066;
  color: #232325;
  box-shadow: 0 4px 16px 0 rgba(0,0,0,0.13);
}

.navLinkActive {
  animation: academyPop 600ms cubic-bezier(.2,.9,.2,1) both;
  transform-origin: center;
  /* subtle glow while overlay runs */
  box-shadow: 0 6px 18px rgba(43,108,176,0.14);
  border-bottom: 2px solid var(--wym-yellow, #f6f38e);
  padding-bottom: 0.25rem;
}

.academyPop {
  background: rgba(255,255,255,0.06);
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
}

@keyframes academyPop {
  0% { transform: scale(1); opacity: 1; }
  40% { transform: scale(1.12) translateY(-3px); opacity: 1; }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

/* mobile toggle (hamburger) - hidden on desktop, positioned inside navbar to avoid overflow */
.mobileToggle {
  display: none;
  background: transparent;
  border: 0;
  padding: 8px;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  position: absolute;
  right: calc(0.75rem + env(safe-area-inset-right)); /* respect safe area */
  top: 50%;
  transform: translateY(-50%);
  max-width: 56px;
  z-index: 60;
}

/* hamburger structure: three bars that animate into an X */
.hamburger {
  display: inline-block;
  width: 28px;
  height: 20px;
  position: relative;
}
.hamburger span {
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: #fff;
  border-radius: 2px;
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 180ms;
}
.hamburger span:nth-child(1) { top: 0; }
.hamburger span:nth-child(2) { top: 9px; }
.hamburger span:nth-child(3) { bottom: 0; }

/* open state -> top & bottom rotate to form X, middle fades */
.hamburger.open span:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}
.hamburger.open span:nth-child(2) {
  opacity: 0;
  transform: scaleX(0.8);
}
.hamburger.open span:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}

/* responsive rules */
@media (max-width: 768px) {
  .navLinks { display: none; }
  .mobileToggle { display: flex; }
  .bookBtn { display: none; }
}

/* mobile menu overlay */
.mobileMenu {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 140;
  display: flex;
  align-items: flex-start;
  justify-content: flex-end;
  animation: overlayFadeIn 200ms ease;
}

/* panel slides in from right for a modern mobile drawer */
.mobileMenuPanel {
  width: min(360px, 92%);
  max-width: 420px;
  height: 100%;
  background: #111;
  padding: 1.25rem 1rem;
  box-shadow: -12px 0 40px rgba(0,0,0,0.6);
  transform: translateX(0);
  animation: panelSlideIn 260ms cubic-bezier(.2,.9,.2,1);
  overflow-y: auto;
  padding-top: 56px; /* room for close button */
}

/* Close (X) button inside mobile panel */
.mobileClose {
  position: absolute;
  right: 12px;
  top: 12px;
  background: transparent;
  border: none;
  color: #fff;
  font-size: 26px;
  line-height: 1;
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  cursor: pointer;
  transition: background 120ms, transform 120ms;
  z-index: 10;
}

.mobileClose:hover,
.mobileClose:focus {
  background: rgba(255,255,255,0.04);
  transform: translateY(-1px);
  outline: none;
}

/* menu list */
.mobileMenuList {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}
.mobileMenuLink {
  display: block;
  padding: 0.9rem 0.25rem;
  color: #fff;
  text-decoration: none;
  font-weight: 700;
  font-size: 1.05rem;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}

/* slight focus/hover state for items */
.mobileMenuLink:focus,
.mobileMenuLink:hover {
  outline: none;
  color: var(--wym-yellow, #f6f38e);
  background: rgba(255,255,255,0.02);
  border-radius: 4px;
  padding-left: 0.5rem;
}

/* animations */
@keyframes overlayFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes panelSlideIn {
  from { transform: translateX(8%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* optional: tighten very small screens */
@media (max-width: 420px) {
  .mobileMenuPanel { width: 100%; max-width: none; }
}